(function(){ const html = `<!doctype html> <html lang="hi"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width,initial-scale=1"/> <title>Mini-Sandbox Game</title> <style>   html,body{margin:0;height:100%;background:#111;color:#eee;font-family:system-ui,Segoe UI,Roboto;}   #game{position:fixed;inset:0;display:flex;flex-direction:row;}   #left{flex:1;display:flex;flex-direction:column;}   canvas{background:#87ceeb;display:block;width:100%;height:100%;}   #hud{position:absolute;left:12px;top:12px;background:rgba(0,0,0,0.4);padding:8px;border-radius:8px;}   #sidebar{width:360px;background:#0f1724;color:#e6eef8;padding:12px;box-shadow:-6px 0 24px rgba(0,0,0,0.6);overflow:auto;}   .section{margin-bottom:12px;padding:8px;background:rgba(255,255,255,0.03);border-radius:6px;}   button,input,select,textarea{font:inherit;padding:6px;margin:4px 0;border-radius:6px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:inherit;width:100%;}   .row{display:flex;gap:8px;}   .small{width:70px;}   #log{height:120px;overflow:auto;background:#071127;padding:6px;border-radius:6px;color:#9fe;}   .inv-slot{display:inline-block;width:40px;height:40px;border:1px solid #555;border-radius:4px;margin:4px;text-align:center;line-height:40px;background:rgba(255,255,255,0.02);} </style> </head> <body> <div id="game">   <div id="left">     <div style="position:relative;flex:1;">       <canvas id="c"></canvas>       <div id="hud">         <div>HP: <span id="hp">100</span> / <span id="maxhp">100</span></div>         <div>Armor: <span id="armorVal">0</span></div>         <div>Weapon: <span id="weaponName">—</span></div>       </div>     </div>   </div>   <div id="sidebar">     <h2>Sandbox — Controls & Custom</h2>     <div class="section">       <b>Controls</b>       <div>W A S D — Move, Mouse — Aim, Left Click — Attack / Place (depends), Right Click — Remove block, Space — Jump</div>       <div>1..9 — Select inventory slot</div>     </div>      <div class="section">       <b>Inventory</b>       <div id="inventory"></div>     </div>      <div class="section">       <b>Create Custom Item</b>       <div class="row"><input id="itemName" placeholder="नाम (weapon/armor/block)"/></div>       <div class="row"><select id="itemType"><option value="weapon">Weapon</option><option value="armor">Armor</option><option value="block">Block</option></select></div>       <div class="row"><input id="itemPower" placeholder="power / defense / durability (number)"/></div>       <div class="row"><button id="addItem">Add to Inventory</button></div>       <div class="row"><button id="resetWorld">Reset World</button></div>     </div>      <div class="section">       <b>Spawn / Difficulty</b>       <div class="row"><button id="spawnSnake">Spawn Snake</button><button id="spawnMany">Spawn 5 Snakes</button></div>       <div class="row"><label>Enemy spawn rate (sec): <input id="spawnRate" class="small" value="6"/></label></div>       <div class="row"><button id="saveMap">Export Map (JSON)</button><button id="loadMap">Import Map (paste JSON below)</button></div>       <textarea id="importArea" placeholder="Paste map JSON here"></textarea>     </div>      <div class="section">       <b>Log</b>       <div id="log"></div>     </div>      <div class="section">       <small>Note: Google Forms में सीधे JS नहीं चलता — होस्ट करके लिंक शेयर करो।</small>     </div>   </div> </div>  <script> /*   Simple 2D sandbox:   - grid world   - place/remove blocks   - player with HP, weapon, armor   - snakes as enemies that chase player   - custom item creation UI   - can export/import map */  const canvas = document.getElementById('c'); const ctx = canvas.getContext('2d'); let W = innerWidth - 360, H = innerHeight; function resize(){ W = innerWidth - 360; H = innerHeight; canvas.width = W; canvas.height = H; } addEventListener('resize', resize); resize();  const TILE = 32; const COLS = 80; // wide map const ROWS = 40; let world = []; function makeWorld(){   world = [];   for(let y=0;y<ROWS;y++){     const row = [];     for(let x=0;x<COLS;x++){       if(y>ROWS-5) row.push({id:'dirt',hp:100}); // ground       else if(Math.random()<0.005) row.push({id:'stone',hp:200});       else row.push(null);     }     world.push(row);   } } makeWorld();  const player = {x: COLS/2 + 0.5, y: ROWS/2, vx:0, vy:0, onGround:false, hp:100, maxhp:100, armor:0, weapon:null}; const itemsCatalog = {   'hand': {name:'Hand',type:'weapon',power:3},   'stick': {name:'Stick',type:'weapon',power:6},   'iron_sword': {name:'Iron Sword',type:'weapon',power:18},   'leather': {name:'Leather',type:'armor',def:2},   'iron_armor': {name:'Iron Armor',type:'armor',def:12},   'dirt': {name:'Dirt Block',type:'block'},   'stone': {name:'Stone Block',type:'block'} }; let inventory = ['stick','dirt','dirt','dirt','stone',null,null,null,null]; // 9 slots let selectedSlot = 0;  const enemies = []; function spawnSnake(x,y){   enemies.push({type:'snake',x:x||(player.x+5),y:y||(player.y+5),hp:40,speed:0.03});   log('Snake spawned.'); }  document.getElementById('spawnSnake').onclick = ()=>spawnSnake(); document.getElementById('spawnMany').onclick = ()=>{for(let i=0;i<5;i++) spawnSnake(player.x+4+i,player.y+(-2+i));}; document.getElementById('resetWorld').onclick = ()=>{makeWorld(); log('World reset');}; document.getElementById('addItem').onclick = ()=>{   const name = document.getElementById('itemName').value.trim()||'custom';   const type = document.getElementById('itemType').value;   const power = Number(document.getElementById('itemPower').value)||5;   const id = 'custom_'+Date.now();   if(type==='weapon') itemsCatalog[id] = {name, type, power};   if(type==='armor') itemsCatalog[id] = {name, type, def:power};   if(type==='block') itemsCatalog[id] = {name, type};   // add to first empty slot   const idx = inventory.indexOf(null);   if(idx>=0) inventory[idx] = id;   else inventory.push(id);   renderInventory();   log('Custom item added: '+name); };  document.getElementById('saveMap').onclick = ()=>{   const data = {world,itemsCatalog,inventory};   const s = JSON.stringify(data);   const blob = new Blob([s],{type:'application/json'});   const url = URL.createObjectURL(blob);   const a = document.createElement('a'); a.href=url; a.download='map.json'; a.click();   URL.revokeObjectURL(url);   log('Map exported.'); }; document.getElementById('loadMap').onclick = ()=>{   try{     const s = document.getElementById('importArea').value;     const data = JSON.parse(s);     if(data.world) { world = data.world; log('Map imported.'); }     if(data.itemsCatalog) { Object.assign(itemsCatalog, data.itemsCatalog); log('Items merged.'); }     if(data.inventory) { inventory = data.inventory; renderInventory(); }   }catch(e){ log('Import failed: '+e.message); } };  document.getElementById('spawnRate').onchange = function(){ spawnTimer = Number(this.value) || 6; };  const logEl = document.getElementById('log'); function log(t){ const d = document.createElement('div'); d.textContent = '['+new Date().toLocaleTimeString()+'] '+t; logEl.appendChild(d); logEl.scrollTop = logEl.scrollHeight; }  function renderInventory(){   const inv = document.getElementById('inventory');   inv.innerHTML = '';   for(let i=0;i<9;i++){     const id = inventory[i];     const el = document.createElement('div');     el.className = 'inv-slot';     if(i===selectedSlot) el.style.outline = '2px solid #9cf';     el.dataset.idx = i;     el.innerHTML = id ? (itemsCatalog[id]?.name || id).slice(0,6) : '';     el.onclick = ()=>{ selectedSlot = i; renderInventory(); };     inv.appendChild(el);   }   document.getElementById('weaponName').textContent = (itemsCatalog[inventory[selectedSlot]]||{}).name || '—';   document.getElementById('hp').textContent = player.hp;   document.getElementById('maxhp').textContent = player.maxhp;   document.getElementById('armorVal').textContent = player.armor; } renderInventory();  // Controls const keys = {}; addEventListener('keydown', e=>{   keys[e.key.toLowerCase()] = true;   if(e.key >= '1' && e.key <= '9'){ selectedSlot = Number(e.key)-1; renderInventory(); } }); addEventListener('keyup', e=>{ keys[e.key.toLowerCase()] = false; });  let mouse = {x:0,y:0,down:false, right:false}; canvas.addEventListener('mousemove', e=>{   const r = canvas.getBoundingClientRect();   mouse.x = (e.clientX - r.left);   mouse.y = (e.clientY - r.top); }); canvas.addEventListener('mousedown', e=>{   if(e.button===0) mouse.down = true;   if(e.button===2) mouse.right = true; }); canvas.addEventListener('mouseup', e=>{   if(e.button===0) mouse.down = false;   if(e.button===2) mouse.right = false; }); canvas.addEventListener('contextmenu', e=>{ e.preventDefault(); });  // utility function worldToScreen(wx,wy){   const cx = player.x * TILE, cy = player.y * TILE;   const sx = (wx * TILE) - cx + W/2;   const sy = (wy * TILE) - cy + H/2;   return {x:sx,y:sy}; }  // game loop let last = performance.now(); let spawnTimer = Number(document.getElementById('spawnRate').value) || 6; let spawnAcc = 0; function step(t){   const dt = Math.min(0.05,(t-last)/1000); last = t;    // physics   const speed = 5;   let ax = 0;   if(keys['a']) ax -= 1;   if(keys['d']) ax += 1;   player.x += ax * speed * dt;   if(keys[' ']) { if(player.onGround){ player.vy = -8; player.onGround=false; } }   player.vy += 20 * dt;   player.y += player.vy * dt;   // ground collision   if(player.y > ROWS-6){ player.y = ROWS-6; player.vy = 0; player.onGround=true; }    // mouse actions: place/remove block at targeted tile   const aimX = Math.floor((player.x + (mouse.x - W/2)/TILE));   const aimY = Math.floor((player.y + (mouse.y - H/2)/TILE));   if(mouse.down){     // attack or place     const sel = inventory[selectedSlot];     if(sel && itemsCatalog[sel]?.type==='block'){       // place block into adjacent tile (if empty)       if(aimX>=0 && aimY>=0 && aimX<COLS && aimY<ROWS && !world[aimY][aimX]){         world[aimY][aimX] = {id:sel,hp:100};         log('Placed '+itemsCatalog[sel].name);       }     } else {       // melee attack: damage enemies near aim       for(const e of enemies){         const dx = e.x - (player.x + (mouse.x - W/2)/TILE);         const dy = e.y - (player.y + (mouse.y - H/2)/TILE);         if(Math.hypot(dx,dy) < 1.2){           const w = itemsCatalog[inventory[selectedSlot]];           const power = w?.power || 3;           e.hp -= power;           log('Hit enemy for '+power);         }       }     }     mouse.down = false; // one-shot on click   }   if(mouse.right){     // remove targeted block     if(aimX>=0 && aimY>=0 && aimX<COLS && aimY<ROWS && world[aimY][aimX]){       const id = world[aimY][aimX].id;       // drop into inventory if space       const idx = inventory.indexOf(null);       if(idx>=0) inventory[idx] = id;       world[aimY][aimX] = null;       renderInventory();       log('Removed block: '+id);     }     mouse.right = false;   }    // enemies AI: simple chase   for(let i=enemies.length-1;i>=0;i--){     const e = enemies[i];     const dx = player.x - e.x, dy = player.y - e.y;     const m = Math.hypot(dx,dy);     if(m>0){       e.x += (dx/m)*e.speed*dt*100;       e.y += (dy/m)*e.speed*dt*100;     }     // collision with player     if(Math.hypot(player.x - e.x, player.y - e.y) < 0.8){       // damage player       const dmg = 6;       const net = Math.max(1, dmg - (player.armor||0));       player.hp -= net * dt * 3; // continuous damage while touching       if(player.hp <= 0){ player.hp = 0; log('You died. Press Reset to restart.'); }     }     if(e.hp <= 0) { enemies.splice(i,1); log('Enemy slain.'); }   }    // enemy spawn timer   spawnAcc += dt;   if(spawnAcc > spawnTimer){     spawnAcc = 0;     // spawn near edges     const sx = Math.random() < 0.5 ? player.x + (Math.random()*10 + 6) : player.x - (Math.random()*10 + 6);     const sy = Math.floor(Math.max(1, Math.min(ROWS-6, player.y + (Math.random()*6-3))));     spawnSnake(sx, sy);   }    // render   ctx.clearRect(0,0,W,H);   // draw tiles   for(let y=0;y<ROWS;y++){     for(let x=0;x<COLS;x++){       const s = worldToScreen(x,y);       if(s.x < -TILE || s.x > W+TILE || s.y < -TILE || s.y > H+TILE) continue;       const t = world[y][x];       if(t){         if(t.id==='dirt'){ ctx.fillStyle = '#6b4f2b'; ctx.fillRect(s.x,s.y,TILE,TILE); ctx.fillStyle='#7c5b37'; ctx.fillRect(s.x+4,s.y+4,8,8); }         else if(t.id==='stone'){ ctx.fillStyle = '#8a8f95'; ctx.fillRect(s.x,s.y,TILE,TILE); }         else { ctx.fillStyle = '#444'; ctx.fillRect(s.x,s.y,TILE,TILE); }       }       // grid (optional)       ctx.strokeStyle = 'rgba(0,0,0,0.05)'; ctx.strokeRect(s.x,s.y,TILE,TILE);     }   }    // draw player   const ps = worldToScreen(player.x, player.y);   ctx.fillStyle = '#ffdd99'; ctx.beginPath(); ctx.arc(ps.x+TILE/2, ps.y+TILE/2 - 8, 12, 0, Math.PI*2); ctx.fill();   // draw direction line to mouse   ctx.strokeStyle = '#fff'; ctx.beginPath(); ctx.moveTo(ps.x+TILE/2, ps.y+TILE/2 - 8); ctx.lineTo(mouse.x, mouse.y); ctx.stroke();    // draw enemies   for(const e of enemies){     const es = worldToScreen(e.x, e.y);     ctx.fillStyle = '#4a9f2f';     ctx.fillRect(es.x+TILE/8, es.y+TILE/8, TILE*0.75, TILE*0.75);   }    // HUD reticle   ctx.strokeStyle = '#fff'; ctx.beginPath(); ctx.arc(mouse.x, mouse.y, 8, 0, Math.PI*2); ctx.stroke();    // update HUD   document.getElementById('hp').textContent = Math.ceil(player.hp);   document.getElementById('armorVal').textContent = player.armor;   document.getElementById('weaponName').textContent = (itemsCatalog[inventory[selectedSlot]]||{}).name || '—';    requestAnimationFrame(step); } requestAnimationFrame(step);  // inventory rendering already done; allow equipping armor/weapon by double-click document.getElementById('inventory').addEventListener('dblclick', e=>{   const idx = e.target.dataset.idx;   if(idx==null) return;   const id = inventory[idx];   if(!id) return;   const item = itemsCatalog[id] || {};   if(item.type==='armor'){ player.armor = item.def || 0; log('Equipped armor: '+item.name); }   if(item.type==='weapon'){ player.weapon = id; log('Equipped weapon: '+item.name); }   renderInventory(); });  // small helper to shorten names in UI when itemsCatalog changes function refreshCatalogUI(){} </script# Fantastic-
Lol
